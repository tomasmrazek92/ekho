"use strict";(()=>{function m(){function e(d,f){$(d).each(function(){new MutationObserver(i=>{i.forEach(n=>{n.type==="attributes"&&n.attributeName==="class"&&f(n.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}let s,o=!1;e(".w-nav-button",()=>{o?$("html, body").scrollTop(s).removeClass("overflow-hidden"):(s=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),o=!o})}function g(){window.FinsweetAttributes||(window.FinsweetAttributes=[]),window.FinsweetAttributes.push(["list",e=>{e.forEach(s=>{s.addHook("start",o=>{$('[fs-list-element="sort-trigger"]')[0].click()}),s.triggerHook("start")})}])}function p(){$("[data-partner-slug]").each(function(){let e=$(this).attr("data-partner-slug"),s=$(this).find("[data-use-cases]"),o=$(this).find("[data-building-blocks]"),c=$(this).find("[data-vehicle-types]");e!==""&&(s.load(`/partner/${e} #use-cases-list`),o.load(`/partner/${e} #building-blocks-list`),c.load(`/partner/${e} #vehicle-types-list`))})}function T(){let e=$(".logo_menu-item").length,s=0,o;function c(d){clearTimeout(o),d===void 0&&(d=(s+1)%e),$(".logo_menu-item").removeClass("is-active"),$(".logos_list").removeClass("active"),$(".logo_menu-item").eq(d).addClass("is-active"),$(".logos_list").eq(d).addClass("active"),s=d,o=setTimeout(function(){c()},4e3)}$(".logo_menu-item").on("click",function(){let d=$(this).index(".logo_menu-item");c(d)}),c(0)}function C(){var e={activeClass:"is-active",animDuration:.2,mobileBreakpoint:991},s=[];function o(t){this.$el=t,this.$tabItems=t.find("[data-tab-item]"),this.$tabVisuals=t.find("[data-tab-visual]"),this.isAnimating=!1,this.pendingTab=null,this.isMobile=window.innerWidth<=e.mobileBreakpoint,this.$tabItems.length>0&&this.init()}o.prototype.init=function(){var t=this,a=this.$tabItems.filter("."+e.activeClass).length>0?this.$tabItems.filter("."+e.activeClass):this.$tabItems.first();if(a.addClass(e.activeClass),this.$tabVisuals.length>0){var i=a.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+i+'"]').show().css("opacity",1)}this.setTabHeights(a),this.bindEvents()},o.prototype.setTabHeights=function(t){this.$tabItems.not("."+e.activeClass).find("[data-tab-content]").css("height","0"),t.find("[data-tab-content]").css("height","auto")},o.prototype.bindEvents=function(){var t=this;this.$tabItems.off("mouseenter click"),this.isMobile?this.$tabItems.on("click",function(a){var i=$(this),n=i.find("a");if(i.hasClass(e.activeClass)&&n.length>0)return!0;if(a.preventDefault(),t.isAnimating){t.pendingTab=i;return}t.isAnimating=!0,t.changeTab(i)}):(this.$tabItems.on("mouseenter",function(){var a=$(this);if(!a.hasClass(e.activeClass)){if(t.isAnimating){t.pendingTab=a;return}t.isAnimating=!0,t.changeTab(a)}}),this.$tabItems.on("click",function(a){var i=$(this),n=i.find("a");(!i.hasClass(e.activeClass)||n.length===0)&&a.preventDefault()}))},o.prototype.scrollToTab=function(t){var a=$(".w-nav").outerHeight()||0,i=t.offset().top,n=i-a;$("html, body").animate({scrollTop:n},400)},o.prototype.changeTab=function(t){var a=this,i=t.attr("data-tab-item"),n=this.$tabVisuals.filter('[data-tab-visual="'+i+'"]'),r=this.$tabItems.filter("."+e.activeClass),l=this.$tabVisuals.filter(":visible");this.$tabItems.removeClass(e.activeClass),t.addClass(e.activeClass),gsap.killTweensOf(r.find("[data-tab-content]")),gsap.killTweensOf(t.find("[data-tab-content]")),gsap.killTweensOf(l),gsap.killTweensOf(n);var h=r.find("[data-tab-content]"),b=t.find("[data-tab-content]");h.length&&gsap.to(h,{height:0,duration:e.animDuration,stagger:.05}),b.length&&b.each(function(){var u=$(this);u.css("height","auto");var v=u.outerHeight();u.css("height","0"),gsap.to(u,{height:v,duration:.3})}),gsap.to(l,{opacity:0,duration:e.animDuration,onComplete:function(){l.hide(),n.show(),gsap.fromTo(n,{opacity:0},{opacity:1,duration:e.animDuration,onComplete:function(){if(a.isAnimating=!1,a.isMobile&&setTimeout(function(){a.scrollToTab(t)},50),a.pendingTab){var u=a.pendingTab;a.pendingTab=null,setTimeout(function(){a.changeTab(u)},50)}}})}})},o.prototype.refresh=function(){var t=this.$tabItems.length,a=this.$tabVisuals.length;this.$tabItems=this.$el.find("[data-tab-item]"),this.$tabVisuals=this.$el.find("[data-tab-visual]");var i=this.$tabItems.length>t,n=this.$tabVisuals.length>a;if(i||n){var r=this.$tabItems.filter("."+e.activeClass);if(r.length===0&&this.$tabItems.length>0&&(r=this.$tabItems.first(),r.addClass(e.activeClass),this.$tabVisuals.length>0)){var l=r.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+l+'"]').show().css("opacity",1)}this.setTabHeights(r),this.bindEvents()}var h=window.innerWidth<=e.mobileBreakpoint;this.isMobile!==h&&(this.isMobile=h,this.bindEvents())};function c(){$("[data-tab-container]").each(function(){var t=$(this),a=d(t[0]);if(!a){var i=new o(t);i.$tabItems.length>0&&s.push(i)}})}function d(t){for(var a=0;a<s.length;a++)if(s[a].$el[0]===t)return s[a];return null}if(window.refreshTabs=function(){c();for(var t=0;t<s.length;t++)s[t].refresh()},c(),$(window).on("resize",function(){for(var t=0;t<s.length;t++)s[t].refresh()}),typeof MutationObserver!="undefined"){var f=new MutationObserver(function(t){for(var a=!1,i=0;i<t.length;i++){var n=t[i];if(n.type==="childList"){for(var r=0;r<n.addedNodes.length;r++){var l=n.addedNodes[r];if(l.nodeType===1&&($(l).find("[data-tab-item]").length>0||$(l).find("[data-tab-visual]").length>0||$(l).find("[data-tab-container]").length>0||$(l).is("[data-tab-item]")||$(l).is("[data-tab-visual]")||$(l).is("[data-tab-container]"))){a=!0;break}}if(a)break}}a&&setTimeout(window.refreshTabs,10)});f.observe(document.body,{childList:!0,subtree:!0})}else setInterval(window.refreshTabs,2e3)}$(document).ready(function(){m(),g(),p(),T(),C()});})();
