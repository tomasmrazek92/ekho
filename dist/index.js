"use strict";(()=>{function g(){function e(h,d){$(h).each(function(){new MutationObserver(a=>{a.forEach(n=>{n.type==="attributes"&&n.attributeName==="class"&&d(n.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}let s,o=!1;e(".w-nav-button",()=>{o?$("html, body").scrollTop(s).removeClass("overflow-hidden"):(s=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),o=!o})}function m(){window.FinsweetAttributes||(window.FinsweetAttributes=[]),window.FinsweetAttributes.push(["list",e=>{e.forEach(s=>{s.addHook("start",o=>{$('[fs-list-element="sort-trigger"]')[0].click()}),s.triggerHook("start")})}])}function p(){$("[data-partner-slug]").each(function(){let e=$(this).attr("data-partner-slug"),s=$(this).find("[data-use-cases]"),o=$(this).find("[data-building-blocks]"),c=$(this).find("[data-vehicle-types]");e!==""&&(s.load(`/partner/${e} #use-cases-list`),o.load(`/partner/${e} #building-blocks-list`),c.load(`/partner/${e} #vehicle-types-list`))})}function T(){let e=$(".logo_menu-item").length,s=0,o;function c(h){clearTimeout(o),h===void 0&&(h=(s+1)%e),$(".logo_menu-item").removeClass("is-active"),$(".logos_list").removeClass("active"),$(".logo_menu-item").eq(h).addClass("is-active"),$(".logos_list").eq(h).addClass("active"),s=h,o=setTimeout(function(){c()},4e3)}$(".logo_menu-item").on("click",function(){let h=$(this).index(".logo_menu-item");c(h)}),c(0)}function C(){var e={activeClass:"is-active",animDuration:.2,mobileBreakpoint:991},s=[];function o(t){this.$el=t,this.$tabItems=t.find("[data-tab-item]"),this.$tabVisuals=t.find("[data-tab-visual]"),this.isAnimating=!1,this.pendingTab=null,this.isMobile=window.innerWidth<=e.mobileBreakpoint,this.$tabItems.length>0&&this.init()}o.prototype.init=function(){var t=this,i=this.$tabItems.filter("."+e.activeClass).length>0?this.$tabItems.filter("."+e.activeClass):this.$tabItems.first();if(i.addClass(e.activeClass),this.$tabVisuals.length>0){var a=i.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+a+'"]').show().css("opacity",1)}this.setTabHeights(i),this.bindEvents()},o.prototype.setTabHeights=function(t){this.$tabItems.not("."+e.activeClass).find("[data-tab-content]").css("height","0"),t.find("[data-tab-content]").css("height","auto")},o.prototype.bindEvents=function(){var t=this;this.$tabItems.off("mouseenter click"),this.isMobile?this.$tabItems.on("click",function(i){var a=$(this),n=a.find("a");if(a.hasClass(e.activeClass)&&n.length>0)return!0;if(i.preventDefault(),t.isAnimating){t.pendingTab=a;return}t.isAnimating=!0,t.changeTab(a)}):(this.$tabItems.on("mouseenter",function(){var i=$(this);if(!i.hasClass(e.activeClass)){if(t.isAnimating){t.pendingTab=i;return}t.isAnimating=!0,t.changeTab(i)}}),this.$tabItems.on("click",function(i){var a=$(this),n=a.find("a");(!a.hasClass(e.activeClass)||n.length===0)&&i.preventDefault()}))},o.prototype.scrollToTab=function(t){var i=$(".w-nav").outerHeight()||0,a=t.offset().top,n=a-i;$("html, body").animate({scrollTop:n},400)},o.prototype.changeTab=function(t){var i=this,a=t.attr("data-tab-item"),n=this.$tabVisuals.filter('[data-tab-visual="'+a+'"]'),l=this.$tabItems.filter("."+e.activeClass),r=this.$tabVisuals.filter(":visible");this.$tabItems.removeClass(e.activeClass),t.addClass(e.activeClass),gsap.killTweensOf(l.find("[data-tab-content]")),gsap.killTweensOf(t.find("[data-tab-content]")),gsap.killTweensOf(r),gsap.killTweensOf(n);var u=l.find("[data-tab-content]"),b=t.find("[data-tab-content]");u.length&&gsap.to(u,{height:0,duration:e.animDuration,stagger:.05}),b.length&&b.each(function(){var f=$(this);f.css("height","auto");var v=f.outerHeight();f.css("height","0"),gsap.to(f,{height:v,duration:.3})}),gsap.to(r,{opacity:0,duration:e.animDuration,onComplete:function(){r.hide(),n.show(),gsap.fromTo(n,{opacity:0},{opacity:1,duration:e.animDuration,onComplete:function(){if(i.isAnimating=!1,i.isMobile&&setTimeout(function(){i.scrollToTab(t)},50),i.pendingTab){var f=i.pendingTab;i.pendingTab=null,setTimeout(function(){i.changeTab(f)},50)}}})}})},o.prototype.refresh=function(){var t=this.$tabItems.length,i=this.$tabVisuals.length;this.$tabItems=this.$el.find("[data-tab-item]"),this.$tabVisuals=this.$el.find("[data-tab-visual]");var a=this.$tabItems.length>t,n=this.$tabVisuals.length>i;if(a||n){var l=this.$tabItems.filter("."+e.activeClass);if(l.length===0&&this.$tabItems.length>0&&(l=this.$tabItems.first(),l.addClass(e.activeClass),this.$tabVisuals.length>0)){var r=l.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+r+'"]').show().css("opacity",1)}this.setTabHeights(l),this.bindEvents()}var u=window.innerWidth<=e.mobileBreakpoint;this.isMobile!==u&&(this.isMobile=u,this.bindEvents())};function c(){$("[data-tab-container]").each(function(){var t=$(this),i=h(t[0]);if(!i){var a=new o(t);a.$tabItems.length>0&&s.push(a)}})}function h(t){for(var i=0;i<s.length;i++)if(s[i].$el[0]===t)return s[i];return null}if(window.refreshTabs=function(){c();for(var t=0;t<s.length;t++)s[t].refresh()},c(),$(window).on("resize",function(){for(var t=0;t<s.length;t++)s[t].refresh()}),typeof MutationObserver!="undefined"){var d=new MutationObserver(function(t){for(var i=!1,a=0;a<t.length;a++){var n=t[a];if(n.type==="childList"){for(var l=0;l<n.addedNodes.length;l++){var r=n.addedNodes[l];if(r.nodeType===1&&($(r).find("[data-tab-item]").length>0||$(r).find("[data-tab-visual]").length>0||$(r).find("[data-tab-container]").length>0||$(r).is("[data-tab-item]")||$(r).is("[data-tab-visual]")||$(r).is("[data-tab-container]"))){i=!0;break}}if(i)break}}i&&setTimeout(window.refreshTabs,10)});d.observe(document.body,{childList:!0,subtree:!0})}else setInterval(window.refreshTabs,2e3)}$(document).ready(function(){g(),m(),p(),T(),C()});})();
