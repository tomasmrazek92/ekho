"use strict";(()=>{function g(){function e(c,t){$(c).each(function(){new MutationObserver(r=>{r.forEach(l=>{l.type==="attributes"&&l.attributeName==="class"&&t(l.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}let i,n=!1,o=$(".nav_wrap-bg");e(".w-nav-button",()=>{n?($("html, body").scrollTop(i).removeClass("overflow-hidden"),o.hide()):(i=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),o.show()),n=!n})}function m(){window.FinsweetAttributes||(window.FinsweetAttributes=[]),window.FinsweetAttributes.push(["list",e=>{e.forEach(i=>{i.addHook("start",n=>{let o=$('[fs-list-element="sort-trigger"]');o.length&&o[0].click()}),i.triggerHook("start")})}])}function p(){$("[data-partner-slug]").each(function(){let e=$(this).attr("data-partner-slug"),i=$(this).find("[data-use-cases]"),n=$(this).find("[data-building-blocks]"),o=$(this).find("[data-vehicle-types]");e!==""&&(i.load(`/partner/${e} #use-cases-list`),n.load(`/partner/${e} #building-blocks-list`),o.load(`/partner/${e} #vehicle-types-list`))})}function T(){$(".logos_wrap").each(function(){let e=$(this).find(".logo_menu-item"),i=$(this).find(".logos_list"),n=e.length,o=0,u;function c(t){clearTimeout(u),t===void 0&&(t=(o+1)%n),e.removeClass("is-active"),i.removeClass("active"),e.eq(t).addClass("is-active"),i.eq(t).addClass("active"),o=t,u=setTimeout(function(){c()},4e3)}e.on("click",function(){let t=$(this).index(e);c(t)}),c(0)})}function w(){var e={activeClass:"is-active",animDuration:.2,mobileBreakpoint:991},i=[];function n(t){this.$el=t,this.$tabItems=t.find("[data-tab-item]"),this.$tabVisuals=t.find("[data-tab-visual]"),this.isAnimating=!1,this.pendingTab=null,this.isMobile=window.innerWidth<=e.mobileBreakpoint,this.$tabItems.length>0&&this.init()}n.prototype.init=function(){var t=this,a=this.$tabItems.filter("."+e.activeClass).length>0?this.$tabItems.filter("."+e.activeClass):this.$tabItems.first();if(a.addClass(e.activeClass),this.$tabVisuals.length>0){var s=a.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+s+'"]').show().css("opacity",1)}this.setTabHeights(a),this.bindEvents()},n.prototype.setTabHeights=function(t){this.$tabItems.not("."+e.activeClass).find("[data-tab-content]").css("height","0"),t.find("[data-tab-content]").css("height","auto")},n.prototype.bindEvents=function(){var t=this;this.$tabItems.off("mouseenter click"),this.isMobile?this.$tabItems.on("click",function(a){var s=$(this),r=s.find("a");if(s.hasClass(e.activeClass)&&r.length>0)return!0;if(a.preventDefault(),t.isAnimating){t.pendingTab=s;return}t.isAnimating=!0,t.changeTab(s)}):(this.$tabItems.on("mouseenter",function(){var a=$(this);if(!a.hasClass(e.activeClass)){if(t.isAnimating){t.pendingTab=a;return}t.isAnimating=!0,t.changeTab(a)}}),this.$tabItems.on("click",function(a){var s=$(this),r=s.find("a");(!s.hasClass(e.activeClass)||r.length===0)&&a.preventDefault()}))},n.prototype.scrollToTab=function(t){var a=$(".w-nav").outerHeight()||0,s=t.offset().top,r=s-a;$("html, body").animate({scrollTop:r},400)},n.prototype.changeTab=function(t){var a=this,s=t.attr("data-tab-item"),r=this.$tabVisuals.filter('[data-tab-visual="'+s+'"]'),l=this.$tabItems.filter("."+e.activeClass),d=this.$tabVisuals.filter(":visible");this.$tabItems.removeClass(e.activeClass),t.addClass(e.activeClass),gsap.killTweensOf(l.find("[data-tab-content]")),gsap.killTweensOf(t.find("[data-tab-content]")),gsap.killTweensOf(d),gsap.killTweensOf(r);var f=l.find("[data-tab-content]"),b=t.find("[data-tab-content]");f.length&&gsap.to(f,{height:0,duration:e.animDuration,stagger:.05}),b.length&&b.each(function(){var h=$(this);h.css("height","auto");var v=h.outerHeight();h.css("height","0"),gsap.to(h,{height:v,duration:.3})}),gsap.to(d,{opacity:0,duration:e.animDuration,onComplete:function(){d.hide(),r.show(),gsap.fromTo(r,{opacity:0},{opacity:1,duration:e.animDuration,onComplete:function(){if(a.isAnimating=!1,a.isMobile&&setTimeout(function(){a.scrollToTab(t)},50),a.pendingTab){var h=a.pendingTab;a.pendingTab=null,setTimeout(function(){a.changeTab(h)},50)}}})}})},n.prototype.refresh=function(){var t=this.$tabItems.length,a=this.$tabVisuals.length;this.$tabItems=this.$el.find("[data-tab-item]"),this.$tabVisuals=this.$el.find("[data-tab-visual]");var s=this.$tabItems.length>t,r=this.$tabVisuals.length>a;if(s||r){var l=this.$tabItems.filter("."+e.activeClass);if(l.length===0&&this.$tabItems.length>0&&(l=this.$tabItems.first(),l.addClass(e.activeClass),this.$tabVisuals.length>0)){var d=l.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+d+'"]').show().css("opacity",1)}this.setTabHeights(l),this.bindEvents()}var f=window.innerWidth<=e.mobileBreakpoint;this.isMobile!==f&&(this.isMobile=f,this.bindEvents())};function o(){$("[data-tab-container]").each(function(){var t=$(this),a=u(t[0]);if(!a){var s=new n(t);s.$tabItems.length>0&&i.push(s)}})}function u(t){for(var a=0;a<i.length;a++)if(i[a].$el[0]===t)return i[a];return null}if(window.refreshTabs=function(){o();for(var t=0;t<i.length;t++)i[t].refresh()},o(),$(window).on("resize",function(){for(var t=0;t<i.length;t++)i[t].refresh()}),typeof MutationObserver!="undefined"){var c=new MutationObserver(function(t){for(var a=!1,s=0;s<t.length;s++){var r=t[s];if(r.type==="childList"){for(var l=0;l<r.addedNodes.length;l++){var d=r.addedNodes[l];if(d.nodeType===1&&($(d).find("[data-tab-item]").length>0||$(d).find("[data-tab-visual]").length>0||$(d).find("[data-tab-container]").length>0||$(d).is("[data-tab-item]")||$(d).is("[data-tab-visual]")||$(d).is("[data-tab-container]"))){a=!0;break}}if(a)break}}a&&setTimeout(window.refreshTabs,10)});c.observe(document.body,{childList:!0,subtree:!0})}else setInterval(window.refreshTabs,2e3)}function C(){function e(){let i=document.querySelector("[data-modal-group-status]"),n=document.querySelectorAll("[data-modal-name]"),o=document.querySelectorAll("[data-modal-target]");o.forEach(c=>{c.addEventListener("click",function(){let t=this.getAttribute("data-modal-target");o.forEach(a=>a.setAttribute("data-modal-status","not-active")),n.forEach(a=>a.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${t}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${t}"]`).setAttribute("data-modal-status","active"),i&&i.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(c=>{c.addEventListener("click",u)}),document.addEventListener("keydown",function(c){c.key==="Escape"&&u()});function u(){o.forEach(c=>c.setAttribute("data-modal-status","not-active")),i&&i.setAttribute("data-modal-group-status","not-active")}}e()}$(document).ready(function(){g(),m(),p(),T(),w(),C()});})();
