"use strict";(()=>{function g(){function e(u,l){$(u).each(function(){new MutationObserver(s=>{s.forEach(n=>{n.type==="attributes"&&n.attributeName==="class"&&l(n.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}let i,o=!1;e(".w-nav-button",()=>{o?$("html, body").scrollTop(i).removeClass("overflow-hidden"):(i=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),o=!o})}function m(){window.FinsweetAttributes||(window.FinsweetAttributes=[]),window.FinsweetAttributes.push(["list",e=>{e.forEach(i=>{i.addHook("start",o=>{let r=$('[fs-list-element="sort-trigger"]');r.length&&r.click()}),i.triggerHook("start")})}])}function p(){$("[data-partner-slug]").each(function(){let e=$(this).attr("data-partner-slug"),i=$(this).find("[data-use-cases]"),o=$(this).find("[data-building-blocks]"),r=$(this).find("[data-vehicle-types]");e!==""&&(i.load(`/partner/${e} #use-cases-list`),o.load(`/partner/${e} #building-blocks-list`),r.load(`/partner/${e} #vehicle-types-list`))})}function T(){$(".logos_wrap").each(function(){let e=$(this).find(".logo_menu-item"),i=$(this).find(".logos_list"),o=e.length,r=0,u;function l(t){clearTimeout(u),t===void 0&&(t=(r+1)%o),e.removeClass("is-active"),i.removeClass("active"),e.eq(t).addClass("is-active"),i.eq(t).addClass("active"),r=t,u=setTimeout(function(){l()},4e3)}e.on("click",function(){let t=$(this).index(e);l(t)}),l(0)})}function w(){var e={activeClass:"is-active",animDuration:.2,mobileBreakpoint:991},i=[];function o(t){this.$el=t,this.$tabItems=t.find("[data-tab-item]"),this.$tabVisuals=t.find("[data-tab-visual]"),this.isAnimating=!1,this.pendingTab=null,this.isMobile=window.innerWidth<=e.mobileBreakpoint,this.$tabItems.length>0&&this.init()}o.prototype.init=function(){var t=this,a=this.$tabItems.filter("."+e.activeClass).length>0?this.$tabItems.filter("."+e.activeClass):this.$tabItems.first();if(a.addClass(e.activeClass),this.$tabVisuals.length>0){var s=a.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+s+'"]').show().css("opacity",1)}this.setTabHeights(a),this.bindEvents()},o.prototype.setTabHeights=function(t){this.$tabItems.not("."+e.activeClass).find("[data-tab-content]").css("height","0"),t.find("[data-tab-content]").css("height","auto")},o.prototype.bindEvents=function(){var t=this;this.$tabItems.off("mouseenter click"),this.isMobile?this.$tabItems.on("click",function(a){var s=$(this),n=s.find("a");if(s.hasClass(e.activeClass)&&n.length>0)return!0;if(a.preventDefault(),t.isAnimating){t.pendingTab=s;return}t.isAnimating=!0,t.changeTab(s)}):(this.$tabItems.on("mouseenter",function(){var a=$(this);if(!a.hasClass(e.activeClass)){if(t.isAnimating){t.pendingTab=a;return}t.isAnimating=!0,t.changeTab(a)}}),this.$tabItems.on("click",function(a){var s=$(this),n=s.find("a");(!s.hasClass(e.activeClass)||n.length===0)&&a.preventDefault()}))},o.prototype.scrollToTab=function(t){var a=$(".w-nav").outerHeight()||0,s=t.offset().top,n=s-a;$("html, body").animate({scrollTop:n},400)},o.prototype.changeTab=function(t){var a=this,s=t.attr("data-tab-item"),n=this.$tabVisuals.filter('[data-tab-visual="'+s+'"]'),d=this.$tabItems.filter("."+e.activeClass),c=this.$tabVisuals.filter(":visible");this.$tabItems.removeClass(e.activeClass),t.addClass(e.activeClass),gsap.killTweensOf(d.find("[data-tab-content]")),gsap.killTweensOf(t.find("[data-tab-content]")),gsap.killTweensOf(c),gsap.killTweensOf(n);var f=d.find("[data-tab-content]"),b=t.find("[data-tab-content]");f.length&&gsap.to(f,{height:0,duration:e.animDuration,stagger:.05}),b.length&&b.each(function(){var h=$(this);h.css("height","auto");var v=h.outerHeight();h.css("height","0"),gsap.to(h,{height:v,duration:.3})}),gsap.to(c,{opacity:0,duration:e.animDuration,onComplete:function(){c.hide(),n.show(),gsap.fromTo(n,{opacity:0},{opacity:1,duration:e.animDuration,onComplete:function(){if(a.isAnimating=!1,a.isMobile&&setTimeout(function(){a.scrollToTab(t)},50),a.pendingTab){var h=a.pendingTab;a.pendingTab=null,setTimeout(function(){a.changeTab(h)},50)}}})}})},o.prototype.refresh=function(){var t=this.$tabItems.length,a=this.$tabVisuals.length;this.$tabItems=this.$el.find("[data-tab-item]"),this.$tabVisuals=this.$el.find("[data-tab-visual]");var s=this.$tabItems.length>t,n=this.$tabVisuals.length>a;if(s||n){var d=this.$tabItems.filter("."+e.activeClass);if(d.length===0&&this.$tabItems.length>0&&(d=this.$tabItems.first(),d.addClass(e.activeClass),this.$tabVisuals.length>0)){var c=d.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+c+'"]').show().css("opacity",1)}this.setTabHeights(d),this.bindEvents()}var f=window.innerWidth<=e.mobileBreakpoint;this.isMobile!==f&&(this.isMobile=f,this.bindEvents())};function r(){$("[data-tab-container]").each(function(){var t=$(this),a=u(t[0]);if(!a){var s=new o(t);s.$tabItems.length>0&&i.push(s)}})}function u(t){for(var a=0;a<i.length;a++)if(i[a].$el[0]===t)return i[a];return null}if(window.refreshTabs=function(){r();for(var t=0;t<i.length;t++)i[t].refresh()},r(),$(window).on("resize",function(){for(var t=0;t<i.length;t++)i[t].refresh()}),typeof MutationObserver!="undefined"){var l=new MutationObserver(function(t){for(var a=!1,s=0;s<t.length;s++){var n=t[s];if(n.type==="childList"){for(var d=0;d<n.addedNodes.length;d++){var c=n.addedNodes[d];if(c.nodeType===1&&($(c).find("[data-tab-item]").length>0||$(c).find("[data-tab-visual]").length>0||$(c).find("[data-tab-container]").length>0||$(c).is("[data-tab-item]")||$(c).is("[data-tab-visual]")||$(c).is("[data-tab-container]"))){a=!0;break}}if(a)break}}a&&setTimeout(window.refreshTabs,10)});l.observe(document.body,{childList:!0,subtree:!0})}else setInterval(window.refreshTabs,2e3)}function C(){function e(){let i=document.querySelector("[data-modal-group-status]"),o=document.querySelectorAll("[data-modal-name]"),r=document.querySelectorAll("[data-modal-target]");r.forEach(l=>{l.addEventListener("click",function(){let t=this.getAttribute("data-modal-target");r.forEach(a=>a.setAttribute("data-modal-status","not-active")),o.forEach(a=>a.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${t}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${t}"]`).setAttribute("data-modal-status","active"),i&&i.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(l=>{l.addEventListener("click",u)}),document.addEventListener("keydown",function(l){l.key==="Escape"&&u()});function u(){r.forEach(l=>l.setAttribute("data-modal-status","not-active")),i&&i.setAttribute("data-modal-group-status","not-active")}}e()}$(document).ready(function(){g(),m(),p(),T(),w(),C()});})();
