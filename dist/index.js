"use strict";(()=>{var p=window.innerWidth,b={};var C=(e,i,a,n,h)=>{let r=$(e);r.length!==0&&(b[a]=0,b[a]=b[a]||0,r.each(function(){let t=`${a}_${b[a]}`;I(this,i,t,[".swiper-arrow",".swiper-pag",".swiper-drag-wrapper"]);let s=k(n,t);A(this,i,t,a,s,h),b[a]++}))},I=(e,i,a,n)=>{n.forEach(h=>{$(e).find(h).addClass(a)}),$(e).find(i).addClass(a)},k=(e,i)=>Object.assign({},e,{speed:1e3,navigation:{prevEl:`.swiper-arrow.prev.${i}`,nextEl:`.swiper-arrow.next.${i}`},pagination:{el:`.swiper-pag.${i}`,type:"bullets",bulletActiveClass:"cc-active",bulletClass:"swiper-pag-item",clickable:!0}}),A=(e,i,a,n,h,r)=>{swipers[n]=swipers[n]||{},swipers[n][a]=swipers[n][a]||{};let t=swipers[n][a],s=t.swiperInstance,o=r==="desktop"&&window.matchMedia("(min-width: 992px)").matches,l=r==="mobile"&&window.matchMedia("(min-width: 0px) and (max-width: 991px)").matches,d=r==="all",c=()=>{t.observer&&(t.observer.disconnect(),delete t.observer),s&&(s.destroy(!0,!0),delete swipers[n][a],console.log("Swiper destroyed for",i,"with uniqueKey",a))};!o&&r==="desktop"||!l&&r==="mobile"||!d&&r==="all"?c():(o||l||d)&&!s&&(()=>{t.observer&&t.observer.disconnect();let m=$(`${i}.${a}`)[0],u=new IntersectionObserver(v=>{v.forEach(y=>{if(y.isIntersecting&&(o||l||d)&&!s){let T=new Swiper(`${i}.${a}`,h);swipers[n][a]={swiperInstance:T,mode:o?"desktop":l?"mobile":"all",initialized:!0},u.disconnect(),console.log("Swiper initialized for",i,"with uniqueKey",a)}})},{});swipers[n][a].observer=u,u.observe(m)})()},g=e=>{e.forEach(i=>{C(...i)})},w=(e,i)=>{console.log("hello"),g(e),window.addEventListener("resize",function(){window.innerWidth!==p&&(p=window.innerWidth,g(e))})};function E(){function e(r,t){$(r).each(function(){new MutationObserver(l=>{l.forEach(d=>{d.type==="attributes"&&d.attributeName==="class"&&t(d.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}let i,a=!1,n=$(".nav_wrap-bg");e(".w-nav-button",()=>{a?($("html, body").scrollTop(i).removeClass("overflow-hidden"),n.hide()):(i=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),n.show()),a=!a})}function M(){window.FinsweetAttributes||(window.FinsweetAttributes=[]),window.FinsweetAttributes.push(["list",e=>{e.forEach(i=>{i.addHook("start",a=>{let n=$('[fs-list-element="sort-trigger"]');n.length&&n[0].click()}),i.triggerHook("start")})}])}function V(){$("[data-partner-slug]").each(function(){let e=$(this).attr("data-partner-slug"),i=$(this).find("[data-use-cases]"),a=$(this).find("[data-vehicle-types]");e!==""&&(i.load(`/partner/${e} #use-cases-list`),a.load(`/partner/${e} #vehicle-types-list`))})}function O(){$(".logos_wrap").each(function(){let e=$(this).find(".logo_menu-item");console.log(e);let i=$(this).find(".logos_list"),a=e.length,n=0,h;function r(t){clearTimeout(h),t===void 0&&(t=(n+1)%a),e.removeClass("is-active"),i.removeClass("active"),e.eq(t).addClass("is-active"),i.eq(t).addClass("active"),n=t,h=setTimeout(function(){r()},4e3)}e.on("click",function(){let t=e.index($(this));console.log(t),r(t)}),r(0)})}function L(){var e={activeClass:"is-active",animDuration:.2,mobileBreakpoint:991},i=[];function a(t){this.$el=t,this.$tabItems=t.find("[data-tab-item]"),this.$tabVisuals=t.find("[data-tab-visual]"),this.isAnimating=!1,this.pendingTab=null,this.isMobile=window.innerWidth<=e.mobileBreakpoint,this.$tabItems.length>0&&this.init()}a.prototype.init=function(){var t=this,s=this.$tabItems.filter("."+e.activeClass).length>0?this.$tabItems.filter("."+e.activeClass):this.$tabItems.first();if(s.addClass(e.activeClass),this.$tabVisuals.length>0){var o=s.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+o+'"]').show().css("opacity",1)}this.setTabHeights(s),this.bindEvents()},a.prototype.setTabHeights=function(t){this.$tabItems.not("."+e.activeClass).find("[data-tab-content]").css("height","0"),t.find("[data-tab-content]").css("height","auto")},a.prototype.bindEvents=function(){var t=this;this.$tabItems.off("mouseenter click"),this.isMobile?this.$tabItems.on("click",function(s){var o=$(this),l=o.find("a");if(o.hasClass(e.activeClass)&&l.length>0)return!0;if(s.preventDefault(),t.isAnimating){t.pendingTab=o;return}t.isAnimating=!0,t.changeTab(o)}):(this.$tabItems.on("mouseenter",function(){var s=$(this);if(!s.hasClass(e.activeClass)){if(t.isAnimating){t.pendingTab=s;return}t.isAnimating=!0,t.changeTab(s)}}),this.$tabItems.on("click",function(s){var o=$(this),l=o.find("a");(!o.hasClass(e.activeClass)||l.length===0)&&s.preventDefault()}))},a.prototype.scrollToTab=function(t){var s=$(".w-nav").outerHeight()||0,o=t.offset().top,l=o-s;$("html, body").animate({scrollTop:l},400)},a.prototype.changeTab=function(t){var s=this,o=t.attr("data-tab-item"),l=this.$tabVisuals.filter('[data-tab-visual="'+o+'"]'),d=this.$tabItems.filter("."+e.activeClass),c=this.$tabVisuals.filter(":visible");this.$tabItems.removeClass(e.activeClass),t.addClass(e.activeClass),gsap.killTweensOf(d.find("[data-tab-content]")),gsap.killTweensOf(t.find("[data-tab-content]")),gsap.killTweensOf(c),gsap.killTweensOf(l);var f=d.find("[data-tab-content]"),m=t.find("[data-tab-content]");f.length&&gsap.to(f,{height:0,duration:e.animDuration,stagger:.05}),m.length&&m.each(function(){var u=$(this);u.css("height","auto");var v=u.outerHeight();u.css("height","0"),gsap.to(u,{height:v,duration:.3})}),gsap.to(c,{opacity:0,duration:e.animDuration,onComplete:function(){c.hide(),l.show(),gsap.fromTo(l,{opacity:0},{opacity:1,duration:e.animDuration,onComplete:function(){if(s.isAnimating=!1,s.isMobile&&setTimeout(function(){s.scrollToTab(t)},50),s.pendingTab){var u=s.pendingTab;s.pendingTab=null,setTimeout(function(){s.changeTab(u)},50)}}})}})},a.prototype.refresh=function(){var t=this.$tabItems.length,s=this.$tabVisuals.length;this.$tabItems=this.$el.find("[data-tab-item]"),this.$tabVisuals=this.$el.find("[data-tab-visual]");var o=this.$tabItems.length>t,l=this.$tabVisuals.length>s;if(o||l){var d=this.$tabItems.filter("."+e.activeClass);if(d.length===0&&this.$tabItems.length>0&&(d=this.$tabItems.first(),d.addClass(e.activeClass),this.$tabVisuals.length>0)){var c=d.attr("data-tab-item");this.$tabVisuals.hide().css("opacity",0),this.$tabVisuals.filter('[data-tab-visual="'+c+'"]').show().css("opacity",1)}this.setTabHeights(d),this.bindEvents()}var f=window.innerWidth<=e.mobileBreakpoint;this.isMobile!==f&&(this.isMobile=f,this.bindEvents())};function n(){$("[data-tab-container]").each(function(){var t=$(this),s=h(t[0]);if(!s){var o=new a(t);o.$tabItems.length>0&&i.push(o)}})}function h(t){for(var s=0;s<i.length;s++)if(i[s].$el[0]===t)return i[s];return null}if(window.refreshTabs=function(){n();for(var t=0;t<i.length;t++)i[t].refresh()},n(),$(window).on("resize",function(){for(var t=0;t<i.length;t++)i[t].refresh()}),typeof MutationObserver!="undefined"){var r=new MutationObserver(function(t){for(var s=!1,o=0;o<t.length;o++){var l=t[o];if(l.type==="childList"){for(var d=0;d<l.addedNodes.length;d++){var c=l.addedNodes[d];if(c.nodeType===1&&($(c).find("[data-tab-item]").length>0||$(c).find("[data-tab-visual]").length>0||$(c).find("[data-tab-container]").length>0||$(c).is("[data-tab-item]")||$(c).is("[data-tab-visual]")||$(c).is("[data-tab-container]"))){s=!0;break}}if(s)break}}s&&setTimeout(window.refreshTabs,10)});r.observe(document.body,{childList:!0,subtree:!0})}else setInterval(window.refreshTabs,2e3)}function N(){function e(){let i=document.querySelector("[data-modal-group-status]"),a=document.querySelectorAll("[data-modal-name]"),n=document.querySelectorAll("[data-modal-target]");n.forEach(r=>{r.addEventListener("click",function(){let t=this.getAttribute("data-modal-target");n.forEach(s=>s.setAttribute("data-modal-status","not-active")),a.forEach(s=>s.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${t}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${t}"]`).setAttribute("data-modal-status","active"),i&&i.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(r=>{r.addEventListener("click",h)}),document.addEventListener("keydown",function(r){r.key==="Escape"&&h()});function h(){n.forEach(r=>r.setAttribute("data-modal-status","not-active")),i&&i.setAttribute("data-modal-group-status","not-active")}}e()}function H(){w([[".section_testimonials-slider",".testimonials-slider_slider","testimonials",{slidesPerView:"auto",spaceBetween:24},"all"]])}function S(){$(document).ready(function(){window.FinsweetAttributes||(window.FinsweetAttributes=[]),window.FinsweetAttributes.push(["list",e=>{let i;if(document.querySelector("#masonry")){let n=()=>{$(".testimonials-grid").css("opacity","0");let r={container:"#masonry",margin:24,columns:3,breakAt:{991:{columns:2},767:{columns:1}}};return i&&i.remove(),setTimeout(()=>{i=Macy(r),$(".testimonials-grid").css("opacity","1")},100),i};new MutationObserver(()=>{n()}).observe(document.querySelector("#masonry"),{childList:!0,subtree:!0}),n()}$('[fs-list-element="filters"]').each(function(){$(this).find(".testimonials-grid_tabs")[0].click()})}])})}$(document).ready(function(){E(),M(),V(),O(),L(),N(),H(),S()});})();
