{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/careers.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "let url = 'https://api.ashbyhq.com/posting-api/job-board/Ekho';\n\nif (window.location.pathname === '/careers') {\n  fetch(url)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then((data) => {\n      let roles = data.jobs;\n      console.log(roles);\n\n      let uniqueCommitments = [];\n      let uniqueTeams = [];\n      let uniqueLocations = [];\n      let jobsByTeam = {};\n\n      roles.forEach(function (role) {\n        if (role.employmentType && !uniqueCommitments.includes(role.employmentType)) {\n          uniqueCommitments.push(role.employmentType);\n        }\n\n        if (role.team) {\n          const { team } = role;\n          console.log(team);\n\n          if (!uniqueTeams.includes(team)) {\n            uniqueTeams.push(team);\n          }\n\n          if (!jobsByTeam[team]) {\n            jobsByTeam[team] = [];\n          }\n          jobsByTeam[team].push(role);\n        }\n\n        if (role.location && !uniqueLocations.includes(role.location)) {\n          uniqueLocations.push(role.location);\n        }\n      });\n\n      updateDropdown('[data-dropdown-location]', uniqueLocations, 'All');\n      updateDropdown('[data-dropdown-team]', uniqueTeams, 'All');\n      updateDropdown('[data-dropdown-worktype]', uniqueCommitments, 'All');\n\n      function updateDropdown(selector, options, allText) {\n        const dropdown = $(selector);\n        if (dropdown.length) {\n          const listInner = dropdown.find('.filter-dropdown_list-inner');\n          listInner.empty();\n\n          listInner.append(\n            `<a href=\"#\" class=\"filter-dropdown_list-link w-inline-block active\" data-value=\"all\"><div>${allText}</div></a>`\n          );\n\n          options.forEach(function (option) {\n            listInner.append(\n              `<a href=\"#\" class=\"filter-dropdown_list-link w-inline-block\" data-value=\"${option}\"><div>${option}</div></a>`\n            );\n          });\n\n          listInner\n            .find('.filter-dropdown_list-link')\n            .off('click')\n            .on('click', function (e) {\n              e.preventDefault();\n\n              $(this)\n                .closest('.filter-dropdown_list-inner')\n                .find('.filter-dropdown_list-link')\n                .removeClass('active');\n\n              $(this).addClass('active');\n\n              applyFilters();\n            });\n        }\n      }\n\n      const filterManager = {\n        getActiveFilters: function () {\n          const locationFilter = $('[data-dropdown-location] .filter-dropdown_list-link.active');\n          const teamFilter = $('[data-dropdown-team] .filter-dropdown_list-link.active');\n          const worktypeFilter = $('[data-dropdown-worktype] .filter-dropdown_list-link.active');\n\n          return {\n            location: locationFilter.length ? locationFilter.data('value') : 'all',\n            team: teamFilter.length ? teamFilter.data('value') : 'all',\n            commitment: worktypeFilter.length ? worktypeFilter.data('value') : 'all',\n          };\n        },\n\n        matchesFilters: function (item, filters) {\n          const $item = $(item);\n\n          if (filters.location !== 'all') {\n            const itemLocation = $item.attr('data-location');\n            if (!itemLocation || !itemLocation.includes(filters.location)) {\n              return false;\n            }\n          }\n\n          if (filters.team !== 'all') {\n            const itemTeam = $item.attr('data-team');\n            if (!itemTeam || itemTeam !== filters.team) {\n              return false;\n            }\n          }\n\n          if (filters.commitment !== 'all') {\n            const itemCommitment = $item.attr('data-commitment');\n            if (!itemCommitment || itemCommitment !== filters.commitment) {\n              return false;\n            }\n          }\n\n          return true;\n        },\n      };\n\n      function applyFilters() {\n        const filters = filterManager.getActiveFilters();\n        let visibleJobsCount = 0;\n        const jobItems = $('[data-roles=\"item\"]');\n        const teamSections = $('[data-roles=\"part\"]');\n\n        jobItems.show();\n        teamSections.show();\n\n        const allFiltersAreAll =\n          filters.location === 'all' && filters.team === 'all' && filters.commitment === 'all';\n\n        if (allFiltersAreAll) {\n          visibleJobsCount = jobItems.length;\n        } else {\n          jobItems.each(function () {\n            const $this = $(this);\n            if (filterManager.matchesFilters(this, filters)) {\n              $this.show();\n              visibleJobsCount++;\n            } else {\n              $this.hide();\n            }\n          });\n\n          teamSections.each(function () {\n            const teamSection = $(this);\n            const visibleItems = teamSection.find('[data-roles=\"item\"]:visible').length;\n\n            if (visibleItems === 0) {\n              teamSection.hide();\n            } else {\n              teamSection.show();\n            }\n          });\n        }\n\n        $('[roles-counter]').text(visibleJobsCount);\n      }\n\n      const rolesContainer = $('.careers-roles_list');\n      const teamPartTemplate = $('[data-roles=\"part\"]:first').clone();\n      const roleItemTemplate = $('[data-roles=\"item\"]:first').clone();\n\n      rolesContainer.empty();\n\n      console.log(uniqueTeams);\n      uniqueTeams.forEach(function (team) {\n        if (!jobsByTeam[team] || jobsByTeam[team].length === 0) return;\n\n        const teamSection = teamPartTemplate.clone();\n        teamSection.find('[data-roles=\"team-title\"]').text(team);\n\n        const teamList = teamSection.find('[data-roles=\"team-list\"]');\n        teamList.empty();\n\n        jobsByTeam[team].forEach(function (job) {\n          const jobItem = roleItemTemplate.clone();\n\n          jobItem.find('[data-roles=\"item-title\"]').text(job.title);\n          jobItem.find('[data-roles=\"item-location\"]').text(job.location);\n          jobItem.find('[data-roles=\"item-commitment\"]').text(job.employmentType || '');\n\n          jobItem.attr('href', job.jobUrl);\n          jobItem.attr('data-commitment', job.employmentType || '');\n          jobItem.attr('data-team', team);\n          jobItem.attr('data-location', job.location);\n\n          teamList.append(jobItem);\n        });\n\n        rolesContainer.append(teamSection);\n      });\n\n      $('.careers-roles_loading').hide();\n      $('.careers-roles_part').show();\n\n      applyFilters();\n    })\n    .catch((error) => console.error('Error fetching data:', error));\n}\n"],
  "mappings": "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",
  "names": []
}
