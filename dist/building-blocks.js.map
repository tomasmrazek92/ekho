{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/building-blocks.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "function runFs() {\n  window.FinsweetAttributes ||= [];\n  window.FinsweetAttributes.push([\n    'list',\n    (listInstances) => {\n      if (!listInstances?.length) return;\n\n      const listInstance = listInstances[0];\n      const currentPath = window.location.pathname.replace(/^\\//, '');\n\n      listInstance.effect(() => {\n        const items = listInstance.items.value;\n        if (!items?.length) return;\n\n        processItems(items, currentPath, listInstance);\n      });\n    },\n  ]);\n\n  function processItems(items, currentPath, listInstance) {\n    // Collect fields for all items first\n    items.forEach((item) => {\n      if (typeof item.collectFields === 'function') {\n        item.collectFields();\n      }\n    });\n\n    // Handle items with nesting separately\n    const itemsWithNesting = items.filter((item) => item.nesting instanceof Promise);\n\n    if (itemsWithNesting.length) {\n      Promise.all(itemsWithNesting.map((item) => item.nesting))\n        .then(() => filterAndRemoveItems(items, currentPath, listInstance))\n        .catch((err) => console.error('Nesting error:', err));\n    } else {\n      filterAndRemoveItems(items, currentPath, listInstance);\n    }\n  }\n\n  function filterAndRemoveItems(items, currentPath, listInstance) {\n    // Filter items based on building-block fields\n    const filteredItems = items.filter((item) => {\n      const blockFields = item.element?.querySelectorAll('[fs-list-field=\"building-block\"]');\n\n      if (!blockFields || blockFields.length === 0) {\n        removeElement(item.element);\n        return false;\n      }\n\n      // Check if any building-block field matches the current path\n      const isMatch = Array.from(blockFields).some((field) => {\n        const blockValue = field.textContent.trim();\n        return blockValue.includes(currentPath) || currentPath.includes(blockValue);\n      });\n\n      if (!isMatch) {\n        removeElement(item.element);\n      }\n\n      return isMatch;\n    });\n\n    // Direct DOM handling for any missed items\n    const allListItems = listInstance.listElement.querySelectorAll('.w-dyn-item');\n    allListItems.forEach((element) => {\n      const blockFields = element.querySelectorAll('[fs-list-field=\"building-block\"]');\n\n      if (!blockFields || blockFields.length === 0) {\n        removeElement(element);\n        return;\n      }\n\n      const hasMatch = Array.from(blockFields).some((field) => {\n        const fieldValue = field.textContent.trim();\n        return fieldValue.includes(currentPath) || currentPath.includes(fieldValue);\n      });\n\n      if (!hasMatch) {\n        removeElement(element);\n      }\n    });\n\n    // Update list items if changed\n    if (filteredItems.length !== items.length) {\n      listInstance.items.value = filteredItems;\n    }\n  }\n\n  function removeElement(element) {\n    if (element && element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  }\n}\n\n// Initialize the function\n$(document).ready(function () {\n  runFs();\n});\n\n$(document).ready(runFs);\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,iCAAsB,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACA7F,WAAS,QAAQ;AACf,WAAO,uBAAuB,CAAC;AAC/B,WAAO,mBAAmB,KAAK;AAAA,MAC7B;AAAA,MACA,CAAC,kBAAkB;AACjB,YAAI,CAAC,eAAe;AAAQ;AAE5B,cAAM,eAAe,cAAc,CAAC;AACpC,cAAM,cAAc,OAAO,SAAS,SAAS,QAAQ,OAAO,EAAE;AAE9D,qBAAa,OAAO,MAAM;AACxB,gBAAM,QAAQ,aAAa,MAAM;AACjC,cAAI,CAAC,OAAO;AAAQ;AAEpB,uBAAa,OAAO,aAAa,YAAY;AAAA,QAC/C,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAED,aAAS,aAAa,OAAO,aAAa,cAAc;AAEtD,YAAM,QAAQ,CAAC,SAAS;AACtB,YAAI,OAAO,KAAK,kBAAkB,YAAY;AAC5C,eAAK,cAAc;AAAA,QACrB;AAAA,MACF,CAAC;AAGD,YAAM,mBAAmB,MAAM,OAAO,CAAC,SAAS,KAAK,mBAAmB,OAAO;AAE/E,UAAI,iBAAiB,QAAQ;AAC3B,gBAAQ,IAAI,iBAAiB,IAAI,CAAC,SAAS,KAAK,OAAO,CAAC,EACrD,KAAK,MAAM,qBAAqB,OAAO,aAAa,YAAY,CAAC,EACjE,MAAM,CAAC,QAAQ,QAAQ,MAAM,kBAAkB,GAAG,CAAC;AAAA,MACxD,OAAO;AACL,6BAAqB,OAAO,aAAa,YAAY;AAAA,MACvD;AAAA,IACF;AAEA,aAAS,qBAAqB,OAAO,aAAa,cAAc;AAE9D,YAAM,gBAAgB,MAAM,OAAO,CAAC,SAAS;AAC3C,cAAM,cAAc,KAAK,SAAS,iBAAiB,kCAAkC;AAErF,YAAI,CAAC,eAAe,YAAY,WAAW,GAAG;AAC5C,wBAAc,KAAK,OAAO;AAC1B,iBAAO;AAAA,QACT;AAGA,cAAM,UAAU,MAAM,KAAK,WAAW,EAAE,KAAK,CAAC,UAAU;AACtD,gBAAM,aAAa,MAAM,YAAY,KAAK;AAC1C,iBAAO,WAAW,SAAS,WAAW,KAAK,YAAY,SAAS,UAAU;AAAA,QAC5E,CAAC;AAED,YAAI,CAAC,SAAS;AACZ,wBAAc,KAAK,OAAO;AAAA,QAC5B;AAEA,eAAO;AAAA,MACT,CAAC;AAGD,YAAM,eAAe,aAAa,YAAY,iBAAiB,aAAa;AAC5E,mBAAa,QAAQ,CAAC,YAAY;AAChC,cAAM,cAAc,QAAQ,iBAAiB,kCAAkC;AAE/E,YAAI,CAAC,eAAe,YAAY,WAAW,GAAG;AAC5C,wBAAc,OAAO;AACrB;AAAA,QACF;AAEA,cAAM,WAAW,MAAM,KAAK,WAAW,EAAE,KAAK,CAAC,UAAU;AACvD,gBAAM,aAAa,MAAM,YAAY,KAAK;AAC1C,iBAAO,WAAW,SAAS,WAAW,KAAK,YAAY,SAAS,UAAU;AAAA,QAC5E,CAAC;AAED,YAAI,CAAC,UAAU;AACb,wBAAc,OAAO;AAAA,QACvB;AAAA,MACF,CAAC;AAGD,UAAI,cAAc,WAAW,MAAM,QAAQ;AACzC,qBAAa,MAAM,QAAQ;AAAA,MAC7B;AAAA,IACF;AAEA,aAAS,cAAc,SAAS;AAC9B,UAAI,WAAW,QAAQ,YAAY;AACjC,gBAAQ,WAAW,YAAY,OAAO;AAAA,MACxC;AAAA,IACF;AAAA,EACF;AAGA,IAAE,QAAQ,EAAE,MAAM,WAAY;AAC5B,UAAM;AAAA,EACR,CAAC;AAED,IAAE,QAAQ,EAAE,MAAM,KAAK;",
  "names": []
}
